#!/bin/bash

CURRENT_DIR=$(dirname $BASH_SOURCE)/;
source $CURRENT_DIR/functions

TELELAB_PATH=$(dirname CURRENT_DIR)/;
VENDOR_PATH=$TELELAB_PATH"vendor";

# todo Check if the command git and subversion exists
show_action "Installation de GIT/SVN";
if test -f "/etc/debian_version"
then
    sudo apt-get install subversion;
    sudo apt-get install git;
else
    sudo yum install subversion;
    sudo yum install git;
fi

create_dir $VENDOR_PATH;
cd $VENDOR_PATH;

# Install smarty 3
show_action "Installation ou mise à jour de SMARTY";
svn checkout http://smarty-php.googlecode.com/svn/trunk/distribution smarty


# Install PHPMAiler
show_action "Installation ou mise à jour de PHPMailer";
svn checkout http://svn.codespot.com/a/apache-extras.org/phpmailer/trunk/ phpmailer

# Install Atoum
show_action "Installation ou mise à jour de Atoum";
create_dir atoum
cd atoum
wget http://downloads.atoum.org/nightly/mageekguy.atoum.phar
cd -

# Install ApiGen
create_dir apigen
cd apigen
git init
git pull https://github.com/apigen/apigen.git
cd -

# Install ExcelReader
create_dir phpexcel
cd phpexcel
git init
git pull https://github.com/PHPOffice/PHPExcel.git
cd -
